<dom-module id="multi-repeat-demo">
  <template>
    <style include="vaadin-component-demo-shared-styles">
    :host {
      display: block;
    }

    </style>
    <h3>Multi Repeat</h3>
    <p>Playing around with topojson feature and d3-projection.</p>
    <vaadin-demo-snippet id='multi-repeat-demo-binding'>
      <template preserve-content>
        <dom-bind id="app">
          <template>
            <multi-repeat id="multi" items="[[items]]">
              <template>
                 <style>
                  paper-button[active]{
                    background: var(--primary-color);
                    color: var(--light-theme-background-color);
                  }
                  </style>
                <paper-button  disabled$="[[disableName(item.name)]]" raised name="[[item.name]]">a[[item.name]]</paper-button>
              </template>
            </multi-repeat>
             <paper-button raised on-tap="doupdate">update</paper-button>
          </template>
        </dom-bind>
      </template>
    </vaadin-demo-snippet>
    <script>
    window.addDemoReadyListener('#multi-repeat-demo-binding', function(document) {

      app = document.querySelector('#app');
      app.items = [{name:1}, {name:2}, {name:4}];
      app.doupdate = () => {
        console.info(app.items[2].name++);
        app.set('items.2.name', app.items[2].name++);
      };
      app.disableName = (count) => {
        return count == 5;
      }
    });
    </script>
  </template>
  <script>
  (function() {

    class MultiDemo extends DemoReadyEventEmitter(MultiVerse.Demo(Polymer.Element)) {
      static get is() {
        return 'multi-repeat-demo';
      }
    }
    customElements.define(MultiDemo.is, MultiDemo);

    if (!window.MultiChart) {
      window.MultiChart = {};
    }
    window.MultiChart.MultiDemo = MultiDemo;

  })();
  </script>
</dom-module>